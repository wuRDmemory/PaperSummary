# Shape Match

## 绪论

文章讨论了解决形状匹配所需要的很多方面的东西：精准度选择问题，选择相似度测量的特征问题，选择合适的相似度量测，以及如何构建一个计算相似度的算法。



## 相关工作

已经有了很多方法：输的剪枝，通用的hough变换，或者姿态分类，几何hashing，对齐方法，统计，形变的模板方法，比较松的labeling，Fourier description，小波变换，曲率空间以及NN。文章详细介绍了一部分方法，这些方法都基于形状的表示方法。



### 1.1.1 矩

$m_{p, q}=\int_{(x, y) \in O} x^{p} y^{q} d x d y$



### 1.1.2 模型匹配

一种方法就是Fourier description，对轮廓上的点进行分散采样，之后将Fourier变换的系数作为描述子；

另一种方法就是主成分，想法是：考虑n个边界点，定义矩阵$D$，元素$D_{ij}$表示点$i$和点$j$之间的相互作用，一般用距离表示，之后求得$D$矩阵的特征向量$e_i$，$e_i$就被称为特征形状(eigenshapes)。为了match两个形状，取一个形状的$e_i$，之后和另一个形状的$e_j$，计算两者的不匹配度$m(e_i, e_j)$，先固定$i=i_0$，此时找到最小的$j$为$j_0$，如果$i_0$恰好是所有$m(e_i, e_{j_0})$中最小的，那么说$i_0$和$j_0$是匹配的。



### 1.1.3 曲率空间法

可以用尺度空间表示轮廓的曲率，比如轮廓C用弧长s表示：$C(s)=(x(s), y(s))$，C的坐标函数由高斯核卷积而来：

$$x_{\sigma}(s)=\int x(s) \phi_{\sigma}(t-s) d t, \quad \phi_{\sigma}(t)=\frac{1}{\sqrt{2 \pi \sigma^{2}}} e^{-\frac{t^{2}}{2 \sigma^{2}}}$$

$y(s)$同理。当$\sigma$不停增长的时候，轮廓就会变得特别的平滑，如图所示，而且其零曲率的点会越来越少，最终曲率会都大于0且轮廓为凸轮廓。

当不停的增加$\sigma$时，曲率为0的点会不断的在轮廓上面移动，当两个这样的点相遇的时候会成为灭点。两个轮廓的匹配可以通过在$(s, \sigma)$平面上的灭点匹配来做。



## 匹配问题

形状匹配是一个多方面的研究，给定两个图形和一个度量方法，我们可以做如下划分

- （计算问题）计算两个图形之间的不同程度；
- （决策问题）给定一个数值，决定不同程度是否小于threshold；
- （决策问题）对于给定的阈值，决定是否可能存在一个映射，使得变换后的图形与另外的图形之间的差值小于阈值；
- （优化问题）找到一个最优变换使得变换后的图形与另一个图形的差值最小；



## 特征

度量函数需要有如下特点：

1. 对于所有的形状S，度量函数需要满足$d(S_1) \times d(S_2) \rightarrow \mathbb{R}$；
2. 满足$d(S_1, S_1)=0$，且$d(A, B)=0$，则$A=B$；满足三角关系$d(A, B) + d(A, C) \ge d(B,C)$.
3. 连续性